---
title: P1996 約瑟夫問題
mathjax: true
tags:
  - Competitive Programming
  - 洛谷
categories:
  - 解題紀錄
  - 洛谷
date: 2025-12-05 22:38:00
---

題目:
https://www.luogu.com.cn/problem/P1996

<!-- more -->

```cpp=
#include <bits/stdc++.h>
using namespace std;

struct ListNode{
    int val;
    ListNode* next = nullptr;
    ListNode(int i): val{i}{}
};

int main(){
    ios::sync_with_stdio(0);
    cin.tie(0);

    int n, m;
    while(cin >> n >> m){
        ListNode* head = nullptr, *last = nullptr;

        for(int i=1; i<=n; ++i){
            ListNode* newNode = new ListNode(i);

            if(head == nullptr){
                head = newNode;
            }
            else{
                last->next = newNode;
            }
            last = newNode;
        }
        
        if(last != nullptr) last->next = head;

        bool first = true;
        ListNode* current = head;
        ListNode* pre = last;
        for(int count = 1; count <= n; ++count){
            if(first) first = false;
            else cout << ' ';

            for(int i=1; i<m; ++i){
                pre = current;
                current = current->next;
            }
            cout << current->val;

            pre->next = current->next;
            ListNode* tmp = current;
            current = current->next;

            if(tmp == head) head = current;

            delete tmp;
        }
        cout << '\n';
    }
    
    return 0;
}
```