---
title: 421
mathjax: true
tags:
  - Competitive Programming
  - LeetCode
categories:
  - 解題紀錄
  - LeetCode
date: 2026-01-12 03:30:04
---

題目:
https://leetcode.com/problems/maximum-xor-of-two-numbers-in-an-array/

<!-- more -->

```cpp=
#define MAXN 3000001

int tree[MAXN][2] = {};
int cnt = 1;

class Solution {
public:
    void reset(){
        for(int i=1; i<=cnt; ++i)
            tree[i][0] = tree[i][1] = 0;
        cnt = 1;
    }

    void insert(int num){
        int curr = 1;
        for(int i=30, path; i>=0; --i){
            path = (num >> i) & 1;
            if(tree[curr][path] == 0) tree[curr][path] = ++cnt;
            curr = tree[curr][path];
        }
    }

    int maxXOR(int num){
        int ans = 0;
        int curr = 1;
        for(int i=30, status, want; i>=0; --i){
            status = (num >> i) & 1;
            want = status^1;
            if(tree[curr][want] == 0) want ^= 1;
            ans |= (status^want) << i;
            curr = tree[curr][want];
        }
        return ans;
    }

    int findMaximumXOR(vector<int>& nums) {
        for(int n : nums) insert(n);
        int ans = 0;
        for(int n : nums) ans = max(ans, maxXOR(n));
        reset();
        return ans;
    }
};
```